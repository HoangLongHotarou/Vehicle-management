{"ast":null,"code":"var _jsxFileName = \"/Users/longvd/Documents/DoAn/Vehicle-management/frontend/license-plate-camera/src/views/region.test.view.tsx\",\n  _s = $RefreshSig$();\n/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from 'react';\nimport { FetchRegion } from '../services/license-plate-app/region.service';\nimport { FormControl, InputLabel, MenuItem, Select } from '@mui/material';\n// import { FetchInAndOut } from '../services/license-plate-app/in-and-out.service';\nimport { FetchInAndOut } from '../services/check-vehicle-realtime/in-and-out.service';\nimport ShowCamera from '../components/show-camera/show-camera.component';\nimport Board from '../components/board/board.component';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function RegionTestView() {\n  _s();\n  const fetchRegion = new FetchRegion();\n  const fetchInAndOut = new FetchInAndOut();\n  var [regions, setRegions] = useState([]);\n  var [cameras, setCameras] = useState([]);\n  var [value, setValue] = useState('');\n  var [plate, setplate] = useState();\n  useEffect(() => {\n    // BaseWebSocketAPI.Instance.receiveDataUseState(setplate);\n    // BaseWebSocketAPI.Instance.receiveData();\n  }, []);\n  useEffect(() => {\n    fetchRegion.get_all().then(res => {\n      console.log(res);\n      setRegions(res);\n    });\n  }, []);\n  const handleChange = event => {\n    window.location.reload();\n    // BaseWebSocketAPI.Instance.sendData({\n    //   status: event.target.value\n    // })\n    setValue(event.target.value);\n    fetchInAndOut.get_rtsp(event.target.value).then(res => {\n      console.log(event.target.value);\n      setCameras([res[0]]);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(FormControl, {\n      fullWidth: true,\n      children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n        id: \"demo-simple-select-label\",\n        children: \"Region\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Select, {\n        labelId: \"demo-simple-select-label\",\n        id: \"demo-simple-select\",\n        value: value,\n        label: \"Region\",\n        onChange: handleChange,\n        children: regions.map((value, i) => /*#__PURE__*/_jsxDEV(MenuItem, {\n          value: value['_id'],\n          children: value['region']\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), !cameras ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: \"not camera\"\n    }, void 0, false) : cameras.map((camera, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Board, {\n        name: camera.name,\n        type: camera.type\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: camera.face_rtsp_url,\n        width: \"40%\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ShowCamera, {\n        url: camera.rtsp_url,\n        data: plate,\n        type: camera['type']\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 11\n      }, this)]\n    }, i, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true);\n}\n_s(RegionTestView, \"yAUEKLxGhxghxcintiCIUv78fn4=\");\n_c = RegionTestView;\nvar _c;\n$RefreshReg$(_c, \"RegionTestView\");","map":{"version":3,"names":["useEffect","useState","FetchRegion","FormControl","InputLabel","MenuItem","Select","FetchInAndOut","ShowCamera","Board","RegionTestView","fetchRegion","fetchInAndOut","regions","setRegions","cameras","setCameras","value","setValue","plate","setplate","get_all","then","res","console","log","handleChange","event","window","location","reload","target","get_rtsp","map","i","camera","name","type","face_rtsp_url","rtsp_url"],"sources":["/Users/longvd/Documents/DoAn/Vehicle-management/frontend/license-plate-camera/src/views/region.test.view.tsx"],"sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from 'react';\nimport { FetchRegion } from '../services/license-plate-app/region.service';\nimport { Region } from '../interfaces/region.interface'\nimport { FormControl, InputLabel, MenuItem, Select } from '@mui/material';\n// import { FetchInAndOut } from '../services/license-plate-app/in-and-out.service';\nimport { FetchInAndOut } from '../services/check-vehicle-realtime/in-and-out.service';\n\nimport { RTSPCamera } from '../interfaces/rtsp-camera.interface';\nimport ShowCamera from '../components/show-camera/show-camera.component';\nimport { LicensePlate } from '../interfaces/license-plate';\nimport BaseWebSocketAPI from '../services/base-websocket.service';\nimport Board from '../components/board/board.component';\n\n\nexport default function RegionTestView() {\n  const fetchRegion = new FetchRegion();\n  const fetchInAndOut = new FetchInAndOut();\n\n  var [regions, setRegions] = useState<Region[]>([]);\n  var [cameras, setCameras] = useState<RTSPCamera[]>([]);\n  var [value, setValue] = useState<string>('');\n  var [plate, setplate] = useState<LicensePlate>();\n\n  useEffect(() => {\n    // BaseWebSocketAPI.Instance.receiveDataUseState(setplate);\n    // BaseWebSocketAPI.Instance.receiveData();\n  }, [])\n\n  useEffect(() => {\n    fetchRegion.get_all().then((res) => {\n      console.log(res);\n      setRegions(res);\n    })\n  }, [])\n\n  const handleChange = (event: any) => {\n    window.location.reload();\n    // BaseWebSocketAPI.Instance.sendData({\n    //   status: event.target.value\n    // })\n    setValue(event.target.value)\n    fetchInAndOut.get_rtsp(event.target.value).then((res) => {\n      console.log(event.target.value)\n      setCameras([res[0]]);\n    })\n  }\n\n  return (\n    <>\n      <FormControl fullWidth>\n        <InputLabel id=\"demo-simple-select-label\">Region</InputLabel>\n        <Select\n          labelId=\"demo-simple-select-label\"\n          id=\"demo-simple-select\"\n          value={value}\n          label=\"Region\"\n          onChange={handleChange}\n        >\n          {regions.map((value, i) => (\n            <MenuItem key={i} value={value['_id']}>\n              {value['region']}\n            </MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n      {/* <pre className=\"section\">{JSON.stringify(cameras, null, ' ')}</pre> */}\n      {!cameras ? (<>not camera</>) : (cameras.map((camera, i) => (\n        <div key={i}>\n          <Board name={camera.name} type={camera.type} />\n          <img src={camera.face_rtsp_url} width=\"40%\" />\n          <ShowCamera url={camera.rtsp_url} data={plate} type={camera['type']} />\n        </div>\n      )))}\n    </>\n  );\n}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}