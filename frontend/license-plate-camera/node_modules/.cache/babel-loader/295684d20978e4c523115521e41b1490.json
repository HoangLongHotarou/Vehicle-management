{"ast":null,"code":"export default class BaseWebSocketAPI {\n  constructor() {\n    this.socket = void 0;\n    // this.socket  = new WebSocket(\"ws://localhost:443/api/v1/license-plate-app/in_and_out/test_ws\");\n    // this.socket  = new WebSocket(\"ws://192.168.1.6:443/api/v1/check-vehicle-real-time/ws\");\n    // this.socket  = new WebSocket(\"ws://192.168.1.6:443/api/v1/check-vehicle-real-time/ws\");\n    this.socket = new WebSocket(\"ws://localhost:443/api/v1/check-vehicle-real-time/ws\");\n  }\n  static get Instance() {\n    if (this._instance === undefined) {\n      this._instance = new BaseWebSocketAPI();\n    }\n    return this._instance;\n  }\n  openSocket() {\n    this.socket.addEventListener('open', function (event) {\n      console.log(event);\n    });\n  }\n  sendData(data) {\n    this.socket.send(JSON.stringify(data));\n  }\n  receiveData() {\n    this.socket.addEventListener('message', function (event) {\n      console.log(event.data);\n    });\n  }\n  receiveDataUseState(setState) {\n    this.socket.addEventListener('message', function (event) {\n      console.log(event.data);\n      setState(JSON.parse(event.data));\n    });\n  }\n}\nBaseWebSocketAPI._instance = void 0;","map":{"version":3,"names":["BaseWebSocketAPI","constructor","socket","WebSocket","Instance","_instance","undefined","openSocket","addEventListener","event","console","log","sendData","data","send","JSON","stringify","receiveData","receiveDataUseState","setState","parse"],"sources":["/Users/longvd/Documents/DoAn/Vehicle-management/frontend/license-plate-camera/src/services/base-websocket.service.ts"],"sourcesContent":["export default class BaseWebSocketAPI{\n    private static _instance: BaseWebSocketAPI;\n    private socket!: WebSocket;\n\n    constructor(){\n        // this.socket  = new WebSocket(\"ws://localhost:443/api/v1/license-plate-app/in_and_out/test_ws\");\n        // this.socket  = new WebSocket(\"ws://192.168.1.6:443/api/v1/check-vehicle-real-time/ws\");\n        // this.socket  = new WebSocket(\"ws://192.168.1.6:443/api/v1/check-vehicle-real-time/ws\");\n        this.socket  = new WebSocket(\"ws://localhost:443/api/v1/check-vehicle-real-time/ws\");\n    }\n\n    public static get Instance(): BaseWebSocketAPI{\n        if(this._instance===undefined){\n            this._instance = new BaseWebSocketAPI();\n        }\n        return this._instance;\n    }\n\n    public openSocket(){\n        this.socket.addEventListener('open', function (event) {\n            console.log(event)\n        });\n    }\n\n    public sendData(data: object){\n        this.socket.send(JSON.stringify(data));\n    }\n\n    public receiveData(){\n        this.socket.addEventListener('message', function (event) {\n            console.log(event.data);\n        });\n    }\n\n    public receiveDataUseState(setState:any){\n        this.socket.addEventListener('message', function (event) {\n            console.log(event.data);\n            setState(JSON.parse(event.data));\n        });\n    }\n}"],"mappings":"AAAA,eAAe,MAAMA,gBAAgB;EAIjCC,WAAW,GAAE;IAAA,KAFLC,MAAM;IAGV;IACA;IACA;IACA,IAAI,CAACA,MAAM,GAAI,IAAIC,SAAS,CAAC,sDAAsD,CAAC;EACxF;EAEA,WAAkBC,QAAQ,GAAoB;IAC1C,IAAG,IAAI,CAACC,SAAS,KAAGC,SAAS,EAAC;MAC1B,IAAI,CAACD,SAAS,GAAG,IAAIL,gBAAgB,EAAE;IAC3C;IACA,OAAO,IAAI,CAACK,SAAS;EACzB;EAEOE,UAAU,GAAE;IACf,IAAI,CAACL,MAAM,CAACM,gBAAgB,CAAC,MAAM,EAAE,UAAUC,KAAK,EAAE;MAClDC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACtB,CAAC,CAAC;EACN;EAEOG,QAAQ,CAACC,IAAY,EAAC;IACzB,IAAI,CAACX,MAAM,CAACY,IAAI,CAACC,IAAI,CAACC,SAAS,CAACH,IAAI,CAAC,CAAC;EAC1C;EAEOI,WAAW,GAAE;IAChB,IAAI,CAACf,MAAM,CAACM,gBAAgB,CAAC,SAAS,EAAE,UAAUC,KAAK,EAAE;MACrDC,OAAO,CAACC,GAAG,CAACF,KAAK,CAACI,IAAI,CAAC;IAC3B,CAAC,CAAC;EACN;EAEOK,mBAAmB,CAACC,QAAY,EAAC;IACpC,IAAI,CAACjB,MAAM,CAACM,gBAAgB,CAAC,SAAS,EAAE,UAAUC,KAAK,EAAE;MACrDC,OAAO,CAACC,GAAG,CAACF,KAAK,CAACI,IAAI,CAAC;MACvBM,QAAQ,CAACJ,IAAI,CAACK,KAAK,CAACX,KAAK,CAACI,IAAI,CAAC,CAAC;IACpC,CAAC,CAAC;EACN;AACJ;AAxCqBb,gBAAgB,CAClBK,SAAS"},"metadata":{},"sourceType":"module"}