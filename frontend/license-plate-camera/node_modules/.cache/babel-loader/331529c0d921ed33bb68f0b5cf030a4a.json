{"ast":null,"code":"var _jsxFileName = \"/Users/longvd/Documents/DoAn/Vehicle-management/frontend/license-plate-camera/src/views/region.view.tsx\",\n  _s = $RefreshSig$();\n/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from 'react';\nimport { FetchRegion } from '../services/license-plate-app/region.service';\nimport { FormControl, InputLabel, MenuItem, Select } from '@mui/material';\n// import { FetchInAndOut } from '../services/license-plate-app/in-and-out.service';\nimport { FetchInAndOut } from '../services/check-vehicle-realtime/in-and-out.service';\nimport ShowCamera from '../components/show-camera/show-camera.component';\nimport BaseWebSocketAPI from '../services/base-websocket.service';\nimport Board from '../components/board/board.component';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function RegionView() {\n  _s();\n  const fetchRegion = new FetchRegion();\n  const fetchInAndOut = new FetchInAndOut();\n  var [regions, setRegions] = useState([]);\n  var [cameras, setCameras] = useState([]);\n  var [value, setValue] = useState('');\n  var [plate, setplate] = useState();\n  useEffect(() => {\n    BaseWebSocketAPI.Instance.receiveDataUseState(setplate);\n    // BaseWebSocketAPI.Instance.receiveData();\n  }, []);\n  useEffect(() => {\n    fetchRegion.get_all().then(res => {\n      console.log(res);\n      setRegions(res);\n    });\n  }, []);\n  const handleChange = event => {\n    // window.location.reload();\n    BaseWebSocketAPI.Instance.sendData({\n      status: event.target.value\n    });\n    setValue(event.target.value);\n    fetchInAndOut.get_rtsp(event.target.value).then(res => {\n      setCameras(res);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(FormControl, {\n      fullWidth: true,\n      children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n        id: \"demo-simple-select-label\",\n        children: \"Region\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Select, {\n        labelId: \"demo-simple-select-label\",\n        id: \"demo-simple-select\",\n        value: value,\n        label: \"Region\",\n        onChange: handleChange,\n        children: regions.map((value, i) => /*#__PURE__*/_jsxDEV(MenuItem, {\n          value: value['_id'],\n          children: value['region']\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), !cameras ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: \"not camera\"\n    }, void 0, false) : cameras.map((camera, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Board, {\n        name: camera.name,\n        type: camera.type\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(ShowCamera, {\n        url: camera['rtsp_url'],\n        data: plate,\n        type: camera['type']\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this)]\n    }, i, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }, this))]\n  }, void 0, true);\n}\n_s(RegionView, \"yAUEKLxGhxghxcintiCIUv78fn4=\");\n_c = RegionView;\nvar _c;\n$RefreshReg$(_c, \"RegionView\");","map":{"version":3,"names":["useEffect","useState","FetchRegion","FormControl","InputLabel","MenuItem","Select","FetchInAndOut","ShowCamera","BaseWebSocketAPI","Board","RegionView","fetchRegion","fetchInAndOut","regions","setRegions","cameras","setCameras","value","setValue","plate","setplate","Instance","receiveDataUseState","get_all","then","res","console","log","handleChange","event","sendData","status","target","get_rtsp","map","i","camera","name","type"],"sources":["/Users/longvd/Documents/DoAn/Vehicle-management/frontend/license-plate-camera/src/views/region.view.tsx"],"sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\nimport { useEffect, useState } from 'react';\nimport { FetchRegion } from '../services/license-plate-app/region.service';\nimport { Region } from '../interfaces/region.interface'\nimport { FormControl, InputLabel, MenuItem, Select } from '@mui/material';\n// import { FetchInAndOut } from '../services/license-plate-app/in-and-out.service';\nimport { FetchInAndOut } from '../services/check-vehicle-realtime/in-and-out.service';\n\nimport { RTSPCamera } from '../interfaces/rtsp-camera.interface';\nimport ShowCamera from '../components/show-camera/show-camera.component';\nimport { LicensePlate } from '../interfaces/license-plate';\nimport BaseWebSocketAPI from '../services/base-websocket.service';\nimport Board from '../components/board/board.component';\n\n\nexport default function RegionView() {\n  const fetchRegion = new FetchRegion();\n  const fetchInAndOut = new FetchInAndOut();\n\n  var [regions, setRegions] = useState<Region[]>([]);\n  var [cameras, setCameras] = useState<RTSPCamera[]>([]);\n  var [value, setValue] = useState<string>('');\n  var [plate, setplate] = useState<LicensePlate>();\n\n  useEffect(()=>{\n    BaseWebSocketAPI.Instance.receiveDataUseState(setplate);\n    // BaseWebSocketAPI.Instance.receiveData();\n  },[])\n\n  useEffect(() => {\n    fetchRegion.get_all().then((res) => {\n      console.log(res);\n      setRegions(res);\n    })\n  },[])\n\n  const handleChange = (event: any) => {\n    // window.location.reload();\n    BaseWebSocketAPI.Instance.sendData({\n      status: event.target.value\n    })\n    setValue(event.target.value)\n    fetchInAndOut.get_rtsp(event.target.value).then((res) => {\n      setCameras(res);\n    })\n  }\n\n  return (\n    <>\n      <FormControl fullWidth>\n        <InputLabel id=\"demo-simple-select-label\">Region</InputLabel>\n        <Select\n          labelId=\"demo-simple-select-label\"\n          id=\"demo-simple-select\"\n          value={value}\n          label=\"Region\"\n          onChange={handleChange}\n        >\n          {regions.map((value, i) => (\n            <MenuItem key={i} value={value['_id']}>\n              {value['region']}\n            </MenuItem>\n          ))}\n        </Select>\n      </FormControl>\n      {/* <pre className=\"section\">{JSON.stringify(cameras, null, ' ')}</pre> */}\n      {!cameras?(<>not camera</>):(cameras.map((camera,i)=>(\n        <div key={i}>\n          <Board name={camera.name} type={camera.type}/>\n          <ShowCamera url={camera['rtsp_url']} data={plate} type={camera['type']} />\n        </div>\n      )))}\n    </>\n  );\n}\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}